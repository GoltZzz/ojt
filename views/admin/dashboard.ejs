<%- layout('layouts/boilerplate') %>
<link rel="stylesheet" href="/css/dashboard.css" />

<div class="dashboard-container">
	<div class="welcome-section">
		<h1>Admin Dashboard</h1>
		<p>Manage your application</p>
	</div>

	<!-- Stats Grid Section -->
	<div class="dashboard-grid">
		<!-- Quick Stats -->
		<div class="dashboard-card full-width">
			<h3><i class="fas fa-chart-bar me-2"></i>System Overview</h3>
			<div class="stats-grid">
				<!-- Users -->
				<div class="stat-item">
					<div class="stat-icon bg-primary">
						<i class="fas fa-users"></i>
					</div>
					<span class="stat-number"><%= stats.totalUsers %></span>
					<span class="stat-label">Total Users</span>
				</div>

				<!-- Pending Reports -->
				<a href="/admin/pending-reports" class="stat-item">
					<div class="stat-icon bg-warning">
						<i class="fas fa-clock"></i>
					</div>
					<span class="stat-number"><%= stats.pendingReports %></span>
					<span class="stat-label">Pending Reports</span>
				</a>

				<!-- Weekly Reports -->
				<div class="stat-item">
					<div class="stat-icon bg-info">
						<i class="fas fa-calendar-week"></i>
					</div>
					<span class="stat-number"><%= stats.totalWeeklyReports %></span>
					<span class="stat-label">Weekly Reports</span>
				</div>

				<!-- Time Reports -->
				<div class="stat-item">
					<div
						class="stat-icon"
						style="background: linear-gradient(135deg, #3498db, #2980b9)">
						<i class="fas fa-clock"></i>
					</div>
					<span class="stat-number"><%= stats.totalTimeReports %></span>
					<span class="stat-label">Time Reports</span>
				</div>
			</div>
		</div>

		<div class="dashboard-card full-width">
			<h3><i class="fas fa-users-cog me-2"></i>User Activity</h3>
			<div class="table-responsive">
				<table class="table table-hover">
					<thead>
						<tr>
							<th>Name</th>
							<th>Weekly Reports</th>
							<th>Time Reports</th>
						</tr>
					</thead>
					<tbody>
						<% userStats.forEach(user => { %>
						<tr>
							<td><%= user.fullName %></td>
							<td><%= user.weeklyReports %></td>
							<td><%= user.timeReports %></td>
						</tr>
						<% }) %>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
